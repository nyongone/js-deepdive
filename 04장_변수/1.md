## 4.1 변수란 무엇인가? 왜 필요한가?

```
10 + 20
```

위 숫자를 연산한다고 가정했을 때, 10과 20은 임의의 메모리 공간에 2진수 형태로 저장되고, CPU는 이를 읽어 연산을 수행하게 된다.

위 연산을 성공적으로 수행하면 30이란 결과가 출력되는 데, CPU는 이를 재사용 할 수 없다.  
혹은 30이란 결과를 담고있는 메모리 공간에 직접적으로 접근하는 방법밖에 없는데, 이는 시스템에 오류를 야기할 수 있는 위험한 방법이다.

따라서 자바스크립트 _(혹은 여러 프로그래밍 언어)_ 에선 이러한 결과를 재사용하기 위해 **변수**라는 메커니즘을 제공한다.

변수는 저장된 값의 메모리 저장 주소를 가르키는 상징적인 이름이다.
변수는 컴파일러/인터프리터에 의해 값이 저장된 메모리 공간의 주소로 치환되어 실행된다.

메모리 주소로 값에 직접적인 접근이 아닌, 변수를 통해 간접적으로 값에 접근한다.

```javascript
var result = 10 + 20;
```

위 코드에서 result는 변수 이름, 변수에 저장된 값은 변수 값이라고 한다.
또한 변수에 값을 저장하는 것을 할당(assignment)라고 하고, 저장된 값을 불러오는 것을 참조(reference) 라고 한다.

## 4.2 식별자

식별자(identifier)는 어떤 값을 식별할 수 있는 고유 이름을 의미하며, 변수 이름과 같은 의미를 가지고 있다.
식별자는 값이 아닌 메모리 주소를 저장하고 있다. 즉, 식별자는 특정 값이 저장된 메모리 주소의 이름과 같다.

식별자는 변수 이름에 국한하지 않는다. 클래스, 함수, 변수 등에 붙여진 이름 모두 식별자라고 한다.

## 4.3 변수 선언

변수 선언(variable declaration)이란 변수를 생성하는 것을 의미한다.
변수에 값을 할당하기 위해 메모리 공간을 확보하고, 연결하며, 메모리 공간의 할당이 해제 될 때 까지 해당 메모리 공간은 보호된다.

자바스크립트에서 변수를 선언하려면 var, let, const 키워드를 사용한다. (var 키워드는 ES6에 들어서면서 거의 사용하지 않는다.)

```javascript
var score;
```

위와 같이 변수를 선언하면, 자바스크립트 엔진은 선언단계와 초기화 단계를 거친다.

-   선언 단계: 변수를 선언하여 자바스크립트 엔진에 변수 존재를 알린다.
-   초기화 단계: 값 저장을 위한 메모리 공간을 확보하고, undefined 값을 할당한다.

초기화 단계를 거치지 않게 되면, 해당 메모리 공간에 다른 프로그램이 사용했던 값인 쓰레기 값(garbage value)이 존재할 수 있다.

이때, 변수 이름은 실행 컨텍스트에 등록된다.
실행 컨텍스트(execution context)란 자바스크립트 엔진이 소스코드 평가 및 실행을 위한 환경을 제공하고 코드의 실행 결과를 관리하는 영역이다.

## 4.4 변수 선언의 실행 시점과 변수 호이스팅

```javascript
console.log(score); // undefined
var score;
```

위 코드에선 변수가 선언되지 않았을 때 발생하는 에러인 ReferenceError(참조 에러)가 발생하지 않는다.
이는 자바스크립트는 변수 선언을 런타임 과정이 아닌 이전 단계에서 실행하기 때문이다.

자바스크립트 엔진은 소스 코드를 실행하기 전에, 소스 코드를 순차적으로 탐색하며 모든 선언문을 찾아서 먼저 실행한다.

이처럼 선언문이 소스코드의 맨 위에 선언 된 것처럼 작동하는 것을 변수 호이스팅(variable hoisting) 이라고 한다.

## 4.5 값의 할당

자바스크립트에선 변수에 값을 할당할 때 할당 연산자(=)를 사용한다.

```javascript
var score;
score = 80;

var score = 80;
```

이때 변수 선언은 런타임 이전에 실행되지만, 변수에 값을 할당하는 것은 런타임 중에 실행된다.

```javascript
console.log(score); // undefined

var score; // 런타임 이전에 실행
score = 80; // 런타임 중에 실행

console.log(score); // 80
```

위 코드의 실행 결과로 변수 호이스팅은 선언문에만 적용되며, 할당은 런타임 중에 실행된다는 것을 증명할 수 있다.
이는 한 줄로 표현해도 똑같이 적용된다.

```javascript
console.log(score); // undefined

var score = 80;

console.log(score); // 80
```

실행 예제 (p.45)

```javascript
console.log(score); // undefined

score = 80;
var score;

console.log(score); // 80
```

1. 런타임 이전에 `var score;` 코드 실행
2. `console.log(score);` 코드 실행
   실행 결과 undefined
3. `score = 80;` 코드 실행
4. `console.log(score);` 코드 실행
   실행 결과 80

## 4.6 값의 재할당

```javascript
var score = 80;
score = 90;
```

위 코드처럼 변수 선언 후 값을 재할당 할 수 있다.

변수 선언 후 80이란 값이 할당된 메모리 공간 주소에 연결하고, 이 후 기존 메모리 주소와의 연결을 해제하고 90이란 값이 할당된 메모리 공간 주소에 연결한다.

선언 시 연결됐던 undefined와 80이란 값은 가비지 콜렉터에 의해 자동으로 할당이 해제 된다.

## 4.7 식별자 네이밍 규칙

자바스크립트에서 식별자는 다음과 같은 규칙을 갖는다.

-   특수문자를 제외한 문자, 숫자, 언더스코어(\_), 달러 기호($)를 포함할 수 있다.
-   단, 숫자로 시작되는 것은 허용하지 않는다.
-   예약어는 식별자로 사용할 수 없다.

네이밍 컨벤션(naming convention)은 하나 이상의 영어 단어로 구성된 식별자를 만들 때 구별하기 쉽게 보기 위해 규정한 선언 규칙이다.

```javascript
// 카멜 케이스 (camelCase)
var firstName;

// 스네이크 케이스 (snake_case)
var first_name;

// 파스칼 케이스 (PascalCase)
var FirstName;

// 헝가리안 케이스 (typeHungarianCase)
var strFirstName; // type + identifier
var $elem = document.getElementById("myId"); // DOM 노드
var observable$ = fromEvent(document, "click"); // RxJS 옵저버블
```

자바스크립트에선 카멜 케이스와 파스칼 케이스를 주로 사용한다.
일반적으로 변수와 함수를 선언할 때 카멜 케이스를 사용하고, 클래스나 생성자 함수 등에는 파스칼 케이스를 사용한다.
